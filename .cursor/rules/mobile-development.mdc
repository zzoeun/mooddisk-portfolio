# Mobile Development Guidelines

## Technology Stack

### Core Technologies

- **React**: 18.2.0 (React Native 0.74.5 í˜¸í™˜)
- **React Native**: 0.74.5 (ì•ˆì • ë²„ì „)
- **Expo SDK**: 51.0.0 (ì•ˆì • ë²„ì „)
- **Package Manager**: Yarn 1.22.22
- **TypeScript**: 5.3.3
- **Kotlin**: 1.8.22 (Android ë„¤ì´í‹°ë¸Œ ê°œë°œìš©, React Native 0.74.5 í˜¸í™˜)
- **Development Build**: EAS Dev Client (Expo Go ì‚¬ìš© ì•ˆí•¨)

### Build & Development

- **Development Client**: EAS Dev Client ë¡œì»¬ ë¹Œë“œ ì‚¬ìš©
- **Expo Go**: ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ ë° ì»¤ìŠ¤í…€ ê°œë°œ í´ë¼ì´ì–¸íŠ¸ í•„ìš”)
- **EAS Build**: í”„ë¡œë•ì…˜ ë¹Œë“œìš©
- **Metro Bundler**: JavaScript ë²ˆë“¤ë§

## Mobile-First Architecture

### Layout Structure

- **Mobile Layout**: `src/layout/MobileLayout.tsx` - ëª¨ë°”ì¼ ì „ìš© ë ˆì´ì•„ì›ƒ
- **Mobile Components**: `src/layout/phone/` - ëª¨ë°”ì¼ ì „ìš© UI ì»´í¬ë„ŒíŠ¸
- **Mobile Pages**: `src/pages/web/*Section.tsx` - í†µí•©ëœ í˜ì´ì§€ (ëª¨ë°”ì¼/ì›¹)
- **Responsive Utils**: `src/layout/utils/MediaQuery.tsx` - ë°˜ì‘í˜• ìœ í‹¸ë¦¬í‹°

### Key Mobile Components

- **MobileHeader**: [MobileHeader.tsx](mdc:src/main/frontend/src/layout/phone/MobileHeader.tsx)
- **MobileTabBar**: [MobileTabBar.tsx](mdc:src/main/frontend/src/layout/phone/MobileTabBar.tsx)
- **MobileSideMenu**: [MobileSideMenu.tsx](mdc:src/main/frontend/src/layout/phone/MobileSideMenu.tsx)
- **MobileLayout**: [MobileLayout.tsx](mdc:src/main/frontend/src/layout/MobileLayout.tsx)

## Development Workflow

### Local Development Setup

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
yarn install

# ê°œë°œ ì„œë²„ ì‹œì‘ (EAS Dev Client í•„ìš”)
yarn start

# iOS ì‹œë®¬ë ˆì´í„°ì—ì„œ ì‹¤í–‰
yarn ios

# Android ì—ë®¬ë ˆì´í„°ì—ì„œ ì‹¤í–‰
yarn android

# ì›¹ì—ì„œ ì‹¤í–‰
yarn web
```

### EAS Dev Client Build

```bash
# iOS ê°œë°œ ë¹Œë“œ (ë¡œì»¬)
eas build --profile development --platform ios --local

# Android ê°œë°œ ë¹Œë“œ (ë¡œì»¬)
eas build --profile development --platform android --local

# í”„ë¡œë•ì…˜ ë¹Œë“œ
eas build --profile production --platform all
```

### Key Configuration Files

- **app.json**: Expo ì•± ì„¤ì • (ë²ˆë“¤ ID, ìŠ¤í‚´, í”ŒëŸ¬ê·¸ì¸ ë“±)
- **eas.json**: EAS ë¹Œë“œ í”„ë¡œí•„ ì„¤ì •
- **package.json**: ì˜ì¡´ì„± ë° ìŠ¤í¬ë¦½íŠ¸ ê´€ë¦¬
- **metro.config.js**: Metro ë²ˆë“¤ëŸ¬ ì„¤ì •
- **tsconfig.json**: TypeScript ì„¤ì •

### Kotlin Configuration

```json
// app.jsonì—ì„œ Kotlin ë²„ì „ ì„¤ì •
{
  "expo": {
    "plugins": [
      [
        "@react-native-seoul/kakao-login",
        {
          "kotlinVersion": "1.8.22"
        }
      ]
    ]
  }
}
```

```gradle
// android/app/build.gradle (ìë™ ìƒì„±ë¨)
android {
    compileSdkVersion 34
    buildToolsVersion "34.0.0"

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    kotlinOptions {
        jvmTarget = "1.8"
    }
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib:1.8.22"
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.22"
}
```

## Mobile Project Structure

### Core Directories

```
src/main/mobile/
â”œâ”€â”€ App.tsx                # ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸ (ì „í†µì ì¸ React Native êµ¬ì¡°)
â”œâ”€â”€ index.ts               # ì•± ì§„ì…ì 
â”œâ”€â”€ app.config.ts          # Expo ì„¤ì • íŒŒì¼
â”œâ”€â”€ app.json               # Expo ì•± ì„¤ì •
â”œâ”€â”€ babel.config.js        # Babel ì„¤ì •
â”œâ”€â”€ metro.config.js        # Metro ë²ˆë“¤ëŸ¬ ì„¤ì •
â”œâ”€â”€ tsconfig.json          # TypeScript ì„¤ì •
â”œâ”€â”€ components/            # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ common/            # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ brand/         # ë¸Œëœë“œ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ buttons/       # ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â”‚   â”œâ”€â”€ comments/      # ëŒ“ê¸€ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ forms/         # í¼ ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â”‚   â”œâ”€â”€ icons/         # ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â”‚   â”œâ”€â”€ loading/       # ë¡œë”© ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â”‚   â”œâ”€â”€ modals/        # ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â”‚   â””â”€â”€ timeline/      # íƒ€ì„ë¼ì¸ ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â””â”€â”€ features/          # ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ challenge/     # ì±Œë¦°ì§€ ê´€ë ¨
â”‚       â”œâ”€â”€ diary/         # ì¼ê¸° ê´€ë ¨
â”‚       â”œâ”€â”€ disk/          # ë””ìŠ¤í¬ ê´€ë ¨
â”‚       â”œâ”€â”€ login/         # ë¡œê·¸ì¸ ê´€ë ¨
â”‚       â””â”€â”€ mypage/        # ë§ˆì´í˜ì´ì§€ ê´€ë ¨
â”œâ”€â”€ screens/               # í™”ë©´ ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â”œâ”€â”€ MainScreen.tsx     # ë©”ì¸ í™”ë©´
â”‚   â”œâ”€â”€ DiaryScreen.tsx    # ì¼ê¸° í™”ë©´
â”‚   â”œâ”€â”€ ChallengeScreen.tsx # ì±Œë¦°ì§€ í™”ë©´
â”‚   â”œâ”€â”€ DiskScreen.tsx     # ë””ìŠ¤í¬ í™”ë©´
â”‚   â””â”€â”€ MyPageScreen.tsx   # ë§ˆì´í˜ì´ì§€ í™”ë©´
â”œâ”€â”€ features/              # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ
â”‚   â””â”€â”€ auth/              # ì¸ì¦ ê´€ë ¨ (Apple, Google, Kakao)
â”œâ”€â”€ layouts/               # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â”œâ”€â”€ MainLayout.tsx     # ë©”ì¸ ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ Header.tsx         # í—¤ë” ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ TabBar.tsx         # íƒ­ë°” ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ hooks/                 # ì»¤ìŠ¤í…€ í›…
â”œâ”€â”€ context/               # React Context
â”œâ”€â”€ config/                # ì„¤ì • íŒŒì¼
â”œâ”€â”€ constants/             # ìƒìˆ˜
â”œâ”€â”€ utils/                 # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”œâ”€â”€ assets/                # ì´ë¯¸ì§€, í°íŠ¸ ë“±
â”œâ”€â”€ android/               # Android ë„¤ì´í‹°ë¸Œ ì½”ë“œ
â””â”€â”€ ios/                   # iOS ë„¤ì´í‹°ë¸Œ ì½”ë“œ
```

### Key Features

- **Authentication**: Apple, Google, Kakao ì†Œì…œ ë¡œê·¸ì¸
- **Navigation**: React Navigation ê¸°ë°˜ íƒ­ ë„¤ë¹„ê²Œì´ì…˜ (expo-router ì„¤ì¹˜ë˜ì–´ ìˆì§€ë§Œ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)
- **State Management**: React Context + Custom Hooks + React Query
- **Styling**: StyleSheet + Themed Components
- **Platform Support**: iOS, Android, Web
- **Architecture**: ì „í†µì ì¸ React Native êµ¬ì¡° (App.tsx ê¸°ë°˜)

## Mobile Development Patterns

### 1. Component Organization

#### App.tsx êµ¬ì¡° (ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸)

```typescript
// App.tsx - ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸
import React, { useEffect, useRef, useState } from "react";
import { SafeAreaProvider } from "react-native-safe-area-context";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { AuthProvider } from "./context/AuthContext";
import AppContent from "./AppContent";

const App: React.FC = () => {
  const queryClientRef = useRef<QueryClient>();
  if (!queryClientRef.current) {
    queryClientRef.current = new QueryClient({
      defaultOptions: {
        queries: {
          staleTime: 1000 * 60 * 5, // 5ë¶„
          gcTime: 1000 * 60 * 30, // 30ë¶„
          refetchOnReconnect: true,
          refetchOnMount: false,
          refetchOnWindowFocus: false,
        },
      },
    });
  }

  return (
    <SafeAreaProvider>
      <QueryClientProvider client={queryClientRef.current}>
        <AuthProvider>
          <AppContent />
        </AuthProvider>
      </QueryClientProvider>
    </SafeAreaProvider>
  );
};

export default App;
```

#### ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° íŒ¨í„´

```typescript
// components/common/buttons/ActionButton.tsx
import React, { useCallback } from "react";
import { TouchableOpacity, Text, StyleSheet } from "react-native";

interface ActionButtonProps {
  title: string;
  onPress?: () => void;
  variant?: "primary" | "secondary";
  disabled?: boolean;
}

const ActionButton = ({
  title,
  onPress,
  variant = "primary",
  disabled = false,
}: ActionButtonProps) => {
  const handlePress = useCallback(() => {
    if (!disabled && onPress) {
      onPress();
    }
  }, [onPress, disabled]);

  return (
    <TouchableOpacity
      style={[styles.button, styles[variant], disabled && styles.disabled]}
      onPress={handlePress}
      disabled={disabled}
    >
      <Text style={[styles.text, styles[`${variant}Text`]]}>{title}</Text>
    </TouchableOpacity>
  );
};

const styles = StyleSheet.create({
  button: {
    paddingHorizontal: 24,
    paddingVertical: 12,
    borderRadius: 8,
    alignItems: "center",
  },
  primary: {
    backgroundColor: "#007AFF",
  },
  secondary: {
    backgroundColor: "#F2F2F7",
  },
  disabled: {
    opacity: 0.5,
  },
  text: {
    fontSize: 16,
    fontWeight: "600",
  },
  primaryText: {
    color: "#FFFFFF",
  },
  secondaryText: {
    color: "#000000",
  },
});

export default ActionButton;
```

### 2. Screen Organization

#### í™”ë©´ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```typescript
// screens/MainScreen.tsx
import React from "react";
import { View, StyleSheet } from "react-native";
import MainLayout from "../layouts/MainLayout";
import TabBar from "../layouts/TabBar";

const MainScreen = () => {
  return (
    <View style={styles.container}>
      <MainLayout />
      <TabBar />
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
});

export default MainScreen;
```

### 3. Layout Components

#### ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ íŒ¨í„´

```typescript
// layouts/MainLayout.tsx
import React from "react";
import { View, StyleSheet, SafeAreaView } from "react-native";
import Header from "./Header";

interface MainLayoutProps {
  children?: React.ReactNode;
}

const MainLayout = ({ children }: MainLayoutProps) => {
  return (
    <SafeAreaView style={styles.container}>
      <Header />
      <View style={styles.content}>{children}</View>
    </SafeAreaView>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#FFFFFF",
  },
  content: {
    flex: 1,
  },
});

export default MainLayout;
```

### 4. Feature Components

#### ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```typescript
// components/features/diary/calendar/DiaryCalendar.tsx
import React, { useState, useEffect } from "react";
import { View, Text, StyleSheet } from "react-native";
import { useDiaryCalendar } from "@mooddisk/hooks";

const DiaryCalendar = () => {
  const [currentDate, setCurrentDate] = useState(new Date());
  const { data: diaryData, isLoading } = useDiaryCalendar(
    currentDate.getFullYear(),
    currentDate.getMonth() + 1
  );

  if (isLoading) {
    return <LoadingSpinner />;
  }

  return (
    <View style={styles.container}>
      <Text style={styles.title}>ì¼ê¸° ë‹¬ë ¥</Text>
      {/* ë‹¬ë ¥ êµ¬í˜„ */}
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 16,
  },
  title: {
    fontSize: 18,
    fontWeight: "bold",
    marginBottom: 16,
  },
});

export default DiaryCalendar;
```

### 5. Touch-Friendly Design

- ìµœì†Œ í„°ì¹˜ ì˜ì—­: 44px Ã— 44px
- í„°ì¹˜ í”¼ë“œë°± ì œê³µ (hover, active ìƒíƒœ)
- ìŠ¤ì™€ì´í”„ ì œìŠ¤ì²˜ ì§€ì›
- ê°€ìƒ í‚¤ë³´ë“œ ê³ ë ¤í•œ ì…ë ¥ í•„ë“œ

### 3. Mobile-Specific Styling

```typescript
// ëª¨ë°”ì¼ ì „ìš© CSS í´ë˜ìŠ¤ ì‚¬ìš©
className = "mobile-card mobile-button mobile-header";
```

### 4. Performance Optimization

- ì´ë¯¸ì§€ lazy loading
- ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„
- í„°ì¹˜ ì´ë²¤íŠ¸ ìµœì í™”
- ë²ˆë“¤ í¬ê¸° ìµœì†Œí™”

### 5. EAS Dev Client Specific Patterns

```typescript
// ê°œë°œ ë¹Œë“œì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ëŠ¥ë“¤
import * as Updates from "expo-updates";
import * as DevMenu from "expo-dev-menu";

// ì—…ë°ì´íŠ¸ í™•ì¸
const checkForUpdates = async () => {
  if (__DEV__) return; // ê°œë°œ ëª¨ë“œì—ì„œëŠ” ìŠ¤í‚µ

  try {
    const update = await Updates.checkForUpdateAsync();
    if (update.isAvailable) {
      await Updates.fetchUpdateAsync();
      await Updates.reloadAsync();
    }
  } catch (error) {
    console.error("Update failed:", error);
  }
};

// ê°œë°œ ë©”ë‰´ (EAS Dev Clientì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥)
const openDevMenu = () => {
  if (__DEV__) {
    DevMenu.openDevMenu();
  }
};
```

### 6. Yarn Workspace Integration

```json
// package.jsonì—ì„œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì˜ì¡´ì„± ì°¸ì¡°
{
  "dependencies": {
    "@mooddisk/types": "file:../../../packages/types"
  }
}
```

```typescript
// ê³µìœ  íƒ€ì… ì‚¬ìš©
import { User, DiaryEntry } from "@mooddisk/types";
```

### 7. Kotlin Native Module Development

```kotlin
// android/app/src/main/kotlin/com/mooddisk/mobile/MyModule.kt
package com.mooddisk.mobile

import com.facebook.react.bridge.ReactApplicationContext
import com.facebook.react.bridge.ReactContextBaseJavaModule
import com.facebook.react.bridge.ReactMethod
import com.facebook.react.bridge.Promise

class MyModule(reactContext: ReactApplicationContext) : ReactContextBaseJavaModule(reactContext) {

    override fun getName(): String {
        return "MyModule"
    }

    @ReactMethod
    fun getDeviceInfo(promise: Promise) {
        try {
            val deviceInfo = mapOf(
                "platform" to "android",
                "version" to android.os.Build.VERSION.RELEASE
            )
            promise.resolve(deviceInfo)
        } catch (e: Exception) {
            promise.reject("ERROR", e.message, e)
        }
    }
}
```

```kotlin
// android/app/src/main/kotlin/com/mooddisk/mobile/MyPackage.kt
package com.mooddisk.mobile

import com.facebook.react.ReactPackage
import com.facebook.react.bridge.NativeModule
import com.facebook.react.bridge.ReactApplicationContext
import com.facebook.react.uimanager.ViewManager

class MyPackage : ReactPackage {
    override fun createNativeModules(reactContext: ReactApplicationContext): List<NativeModule> {
        return listOf(MyModule(reactContext))
    }

    override fun createViewManagers(reactContext: ReactApplicationContext): List<ViewManager<*, *>> {
        return emptyList()
    }
}
```

### 8. Kotlin Best Practices

```kotlin
// Null Safety í™œìš©
fun processUser(user: User?) {
    user?.let {
        // nullì´ ì•„ë‹ ë•Œë§Œ ì‹¤í–‰
        println("User name: ${it.name}")
    } ?: run {
        // nullì¼ ë•Œ ì‹¤í–‰
        println("User is null")
    }
}

// Extension Functions
fun String.isValidEmail(): Boolean {
    return this.contains("@") && this.contains(".")
}

// Data Classes
data class ApiResponse(
    val success: Boolean,
    val data: Any?,
    val message: String?
)

// Coroutines (ë¹„ë™ê¸° ì²˜ë¦¬)
import kotlinx.coroutines.*

class ApiService {
    suspend fun fetchData(): ApiResponse = withContext(Dispatchers.IO) {
        // ë„¤íŠ¸ì›Œí¬ ìš”ì²­
        ApiResponse(true, "data", "success")
    }
}
```

## Mobile UI Guidelines

### Navigation

- **Bottom Tab Bar**: ì£¼ìš” ê¸°ëŠ¥ ì ‘ê·¼
- **Header**: í˜„ì¬ ì„¹ì…˜ í‘œì‹œ ë° ë©”ë‰´
- **Side Menu**: ì‚¬ìš©ì ì„¤ì • ë° ë¶€ê°€ ê¸°ëŠ¥
- **Floating Action Button**: ì£¼ìš” ì•¡ì…˜ (ì‘ì„±, ì¶”ê°€ ë“±)

### Layout Principles

- **Single Column Layout**: ëª¨ë°”ì¼ í™”ë©´ì— ìµœì í™”
- **Card-Based Design**: ì •ë³´ ê·¸ë£¹í™”
- **Progressive Disclosure**: ì •ë³´ë¥¼ ë‹¨ê³„ì ìœ¼ë¡œ í‘œì‹œ
- **Thumb-Friendly**: ì—„ì§€ì†ê°€ë½ìœ¼ë¡œ ì‰½ê²Œ ì¡°ì‘

### Typography & Spacing

- **Font Size**: ìµœì†Œ 16px (iOS), 14px (Android)
- **Line Height**: 1.4-1.6
- **Touch Targets**: ìµœì†Œ 44px ê°„ê²©
- **Padding**: 16px ê¸°ë³¸, 8px ìµœì†Œ

## Mobile-Specific Features

### 1. Gesture Support

```typescript
// ìŠ¤ì™€ì´í”„ ì œìŠ¤ì²˜ êµ¬í˜„
const handleSwipe = (direction: "left" | "right") => {
  // ì œìŠ¤ì²˜ ì²˜ë¦¬ ë¡œì§
};
```

### 2. Offline Support

- ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ í™œìš©
- ì˜¤í”„ë¼ì¸ ìƒíƒœ ê°ì§€
- ë°ì´í„° ë™ê¸°í™”

### 3. Mobile Notifications

- í‘¸ì‹œ ì•Œë¦¼ ì„¤ì •
- ë¡œì»¬ ì•Œë¦¼
- ë°°ì§€ ì¹´ìš´íŠ¸

### 4. Camera & Media

- ì¹´ë©”ë¼ ì ‘ê·¼
- ì´ë¯¸ì§€ ì—…ë¡œë“œ
- ê°¤ëŸ¬ë¦¬ ì„ íƒ

## Responsive Design

### Breakpoints

```typescript
// MediaQuery.tsx í™œìš©
const isMobile = window.innerWidth < 768;
const isTablet = window.innerWidth >= 768 && window.innerWidth < 1024;
```

### Conditional Rendering

```typescript
// ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ì¡°ê±´ë¶€ ë Œë”ë§
{
  isMobile ? <MobileComponent /> : <DesktopComponent />;
}
```

## Testing Guidelines

### Mobile Testing

- ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸° í…ŒìŠ¤íŠ¸
- í„°ì¹˜ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸
- ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (3G, ëŠë¦° ë„¤íŠ¸ì›Œí¬)
- ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸

### Device Testing

- **iOS**: iPhone ì‹œë®¬ë ˆì´í„° + ì‹¤ì œ ê¸°ê¸°
- **Android**: Android ì—ë®¬ë ˆì´í„° + ì‹¤ì œ ê¸°ê¸°
- **Web**: Chrome, Safari, Firefox
- **EAS Dev Client**: ê°œë°œ ë¹Œë“œì—ì„œ í…ŒìŠ¤íŠ¸

### Testing Commands

```bash
# Jest í…ŒìŠ¤íŠ¸ ì‹¤í–‰
yarn test

# íŠ¹ì • í…ŒìŠ¤íŠ¸ íŒŒì¼ ì‹¤í–‰
yarn test components/__tests__/StyledText-test.js

# í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¸
yarn test --coverage
```

### Debugging

```typescript
// React Native Debugger ì‚¬ìš©
import { LogBox } from "react-native";

// ê²½ê³  ìˆ¨ê¸°ê¸° (ê°œë°œ ì‹œì—ë§Œ)
LogBox.ignoreLogs(["Warning: ..."]);

// Flipper ë””ë²„ê¹… (EAS Dev Clientì—ì„œ ì§€ì›)
import { Flipper } from "react-native-flipper";
```

## Performance Best Practices

### 1. Bundle Optimization

- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
- Tree shaking
- ì´ë¯¸ì§€ ìµœì í™”
- í°íŠ¸ ìµœì í™”

### 2. Runtime Performance

- ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€
- ë©”ëª¨ì´ì œì´ì…˜ í™œìš©
- ê°€ìƒí™” (ê¸´ ë¦¬ìŠ¤íŠ¸)
- ì§€ì—° ë¡œë”©

### 3. Network Optimization

- API ìš”ì²­ ìµœì í™”
- ìºì‹± ì „ëµ
- ì˜¤í”„ë¼ì¸ ì§€ì›
- ì´ë¯¸ì§€ ì••ì¶•

## Important Notes

### EAS Dev Client vs Expo Go

- **EAS Dev Client**: ì»¤ìŠ¤í…€ ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ ì‚¬ìš© ê°€ëŠ¥, ë¡œì»¬ ë¹Œë“œ í•„ìš”
- **Expo Go**: ì œí•œëœ ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆë§Œ ì‚¬ìš© ê°€ëŠ¥, ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ìš©
- **í˜„ì¬ í”„ë¡œì íŠ¸**: EAS Dev Client ì‚¬ìš© (Kakao, Apple ë¡œê·¸ì¸ ë“± ì»¤ìŠ¤í…€ ëª¨ë“ˆ í•„ìš”)

### React 18.2 Features

- **Concurrent Features**: ìë™ ë°°ì¹˜ ì—…ë°ì´íŠ¸, Suspense ê°œì„ 
- **New Hooks**: useId, useDeferredValue, useTransition
- **Strict Mode**: ê°œë°œ ëª¨ë“œì—ì„œ ì´ì¤‘ ë Œë”ë§ìœ¼ë¡œ ë¶€ì‘ìš© ê°ì§€
- **React Native 0.74.5 í˜¸í™˜**: ì•ˆì •ì ì¸ React Native ë²„ì „ê³¼ ì™„ë²½ í˜¸í™˜

### Yarn Workspace

- **Monorepo**: í”„ë¡ íŠ¸ì—”ë“œ, ëª¨ë°”ì¼, ë°±ì—”ë“œê°€ í•˜ë‚˜ì˜ ì €ì¥ì†Œ
- **Shared Types**: `@mooddisk/types` íŒ¨í‚¤ì§€ë¡œ íƒ€ì… ê³µìœ 
- **Dependency Management**: Yarnìœ¼ë¡œ ì˜ì¡´ì„± ê´€ë¦¬

### Build Requirements

- **iOS**: Xcode 16.4+, iOS 15.1+ íƒ€ê²Ÿ
- **Android**: Android SDK, Gradle 8.0+, Kotlin 1.8.22
- **EAS CLI**: 16.18.0+ ë²„ì „ í•„ìš”
- **Kotlin**: 1.8.22 (React Native 0.74.5 í˜¸í™˜, ì•ˆì •ì„± ìš°ì„ )

### Kotlin Development Environment

```bash
# Android Studioì—ì„œ Kotlin í”ŒëŸ¬ê·¸ì¸ í™œì„±í™”
# File > Settings > Plugins > Kotlin ì„¤ì¹˜

# Gradleì—ì„œ Kotlin ì„¤ì • í™•ì¸
./gradlew --version

# Kotlin ì»´íŒŒì¼ëŸ¬ ë²„ì „ í™•ì¸
./gradlew :app:dependencies | grep kotlin
```

### Kotlin Version Compatibility

**ì¤‘ìš”**: React Native 0.74.5ì™€ì˜ í˜¸í™˜ì„±ì„ ìœ„í•´ **Kotlin 1.8.22**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

- **Kotlin 1.9.0**: React Native 0.74.5ì™€ í˜¸í™˜ì„± ë¬¸ì œ ë°œìƒ ê°€ëŠ¥
- **Kotlin 1.8.22**: React Native 0.74.5ì™€ ì•ˆì •ì  í˜¸í™˜ì„± ë³´ì¥
- **Kotlin 1.7.x**: ì´ì „ ë²„ì „, ê¸°ëŠ¥ ì œí•œ ìˆìŒ

```json
// app.jsonì—ì„œ ì•ˆì „í•œ Kotlin ë²„ì „ ì„¤ì •
{
  "expo": {
    "plugins": [
      [
        "@react-native-seoul/kakao-login",
        {
          "kotlinVersion": "1.8.22" // ì•ˆì •ì ì¸ ë²„ì „ ì‚¬ìš©
        }
      ]
    ]
  }
}
```

### Native Module Integration

```typescript
// TypeScriptì—ì„œ Kotlin ëª¨ë“ˆ ì‚¬ìš©
import { NativeModules } from "react-native";

const { MyModule } = NativeModules;

// Kotlin ëª¨ë“ˆ í˜¸ì¶œ
const getDeviceInfo = async () => {
  try {
    const info = await MyModule.getDeviceInfo();
    console.log("Device Info:", info);
  } catch (error) {
    console.error("Error:", error);
  }
};
```

## í˜„ì¬ í”„ë¡œì íŠ¸ ì„¤ì • ìƒíƒœ

### âœ… í•´ê²°ëœ ë¹Œë“œ ë¬¸ì œë“¤

1. **iOS ë¹Œë“œ ì„±ê³µ**

   - `TARGET_IPHONE_SIMULATOR` ì˜¤ë¥˜ í•´ê²°
   - `expo-dev-menu` Swift íŒŒì¼ ìˆ˜ì •
   - CocoaPods ì˜ì¡´ì„± ì¶©ëŒ í•´ê²°

2. **Android ë¹Œë“œ ì„±ê³µ**

   - Kotlin 1.8.22 ë²„ì „ í˜¸í™˜ì„± í™•ë³´
   - Gradle ì„¤ì • ìµœì í™”
   - React Native 0.74.5 í˜¸í™˜ì„± í™•ì¸

3. **ê³µìœ  ì˜ì¡´ì„± ì¼ì¹˜**
   - Expo SDK 51.0.0
   - React 18.2.0
   - React Native 0.74.5
   - TypeScript 5.3.3

### ğŸ”§ í˜„ì¬ í™œì„±í™”ëœ ì„¤ì •

```json
// package.json í•µì‹¬ ì˜ì¡´ì„±
{
  "expo": "~51.0.0",
  "react": "18.2.0",
  "react-native": "0.74.5",
  "typescript": "~5.3.3",
  "kotlinVersion": "1.8.22"
}
```

```gradle
// android/build.gradle
ext {
    kotlinVersion = '1.8.22'
}
```

```swift
// iOS TARGET_IPHONE_SIMULATOR í•´ê²°
#if targetEnvironment(simulator)
let isSimulator = true
#else
let isSimulator = false
#endif
```

### ğŸš€ ë¹Œë“œ ëª…ë ¹ì–´

```bash
# Android ë¹Œë“œ (ì„±ê³µ)
yarn expo run:android --device

# iOS ë¹Œë“œ (ì„±ê³µ)
yarn expo run:ios

# ê°œë°œ ì„œë²„
yarn start
```

### âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ë…ë¦½ì  ë¹Œë“œ**: Androidì™€ iOS ë¹Œë“œëŠ” ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ì‘ë™
2. **ì˜ì¡´ì„± ê´€ë¦¬**: `package.json` ë³€ê²½ ì‹œ ì–‘ìª½ í”Œë«í¼ ëª¨ë‘ í™•ì¸ í•„ìš”
3. **ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ**: ìƒˆ ëª¨ë“ˆ ì¶”ê°€ ì‹œ Android/iOS ëª¨ë‘ ì„¤ì • í•„ìš”
4. **ë²„ì „ í˜¸í™˜ì„±**: Expo SDK 51 ê¸°ë°˜ìœ¼ë¡œ ëª¨ë“  íŒ¨í‚¤ì§€ ì¼ì¹˜ ìœ ì§€

description: Mobile development guidelines for React Native with Expo and EAS Dev Client
globs:
alwaysApply: false

---
